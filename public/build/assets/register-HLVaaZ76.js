import{j as e,L as d,I as l,B as N}from"./app-wM5hJMBW.js";import{d as y,u as C,H as I}from"./inertia-DFKzB8kt.js";import{T as b}from"./text-link-BTHfwwSN.js";import{I as n}from"./input-Cn-VsS5J.js";import{A as F,L as P}from"./auth-layout-2XjzsB9j.js";/* empty css            */import"./vendor-DP3lGzMr.js";function T(){const{url:c,props:w}=y(),u=new URLSearchParams(c.split("?")[1]||"").get("mode"),p=new URLSearchParams(c.split("?")[1]||"").get("redirect"),x=w?.status,{data:r,setData:o,post:f,processing:t,errors:s,reset:j}=C({name:"",email:"",password:"",password_confirmation:""}),v=a=>{a.preventDefault();const h=document.querySelector('meta[name="csrf-token"]')?.content;h&&typeof window<"u"&&window.axios&&(window.axios.defaults.headers.common["X-CSRF-TOKEN"]=h),f(route("register"),{preserveState:!0,preserveScroll:!0,onError:g=>{console.error("Registration errors:",g);const i=Object.keys(g)[0];if(i){const m=document.getElementById(i)||document.querySelector(`[name="${i}"]`);m&&(m.scrollIntoView({behavior:"smooth",block:"center"}),m.focus())}},onSuccess:()=>{},onFinish:()=>{j("password","password_confirmation")}})};return e.jsxs(F,{title:"Create an account",description:"Enter your details below to create your account",children:[e.jsx(I,{title:"Register"}),x&&e.jsx("div",{className:"mb-4 rounded-lg border border-green-500/30 bg-green-500/10 p-3",children:e.jsx("p",{className:"text-sm text-green-300",children:x})}),e.jsxs("form",{method:"POST",className:"flex flex-col gap-6",onSubmit:v,children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"name",children:"Name"}),e.jsx(n,{id:"name",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"name",value:r.name,onChange:a=>o("name",a.target.value),disabled:t,placeholder:"Full name"}),e.jsx(l,{message:s.name,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"email",children:"Email address"}),e.jsx(n,{id:"email",type:"email",required:!0,tabIndex:2,autoComplete:"email",value:r.email,onChange:a=>o("email",a.target.value),disabled:t,placeholder:"email@example.com",className:s.email&&s.email.includes("already registered")?"border-red-500 focus:border-red-500 focus:ring-red-500":""}),e.jsx(l,{message:s.email}),s.email&&(s.email.includes("already registered")||s.email.includes("already been taken")||s.email.includes("unique"))&&e.jsx("div",{className:"mt-2 rounded-lg border-2 border-amber-500/50 bg-amber-500/20 p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-amber-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"mb-1 text-sm font-semibold text-amber-300",children:"Email Already Registered"}),e.jsxs("p",{className:"text-sm leading-relaxed text-amber-200/90",children:["The email address ",e.jsx("strong",{className:"font-semibold text-amber-100",children:r.email})," is already registered in our system."]}),e.jsxs("p",{className:"mt-2 text-sm text-amber-200/90",children:["If this is your account, please"," ",e.jsx(b,{href:route("login",u==="b2b"?{mode:"b2b",redirect:p}:{}),className:"font-semibold text-amber-100 underline hover:text-amber-50",children:"log in here"})," ","instead. If you forgot your password, you can reset it from the login page."]})]})]})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"password",children:"Password"}),e.jsx(n,{id:"password",type:"password",required:!0,tabIndex:3,autoComplete:"new-password",value:r.password,onChange:a=>o("password",a.target.value),disabled:t,placeholder:"Password (minimum 8 characters)",minLength:8}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(l,{message:s.password}),!s.password&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 8 characters long."})]}),r.password&&r.password.length>0&&r.password.length<8&&e.jsx("div",{className:"mt-1 rounded-lg border border-amber-500/30 bg-amber-500/10 p-2",children:e.jsxs("p",{className:"text-xs text-amber-300",children:[e.jsx("strong",{children:"Password too short:"})," Your password must be at least 8 characters. Currently: ",r.password.length," character",r.password.length!==1?"s":"","."]})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"password_confirmation",children:"Confirm password"}),e.jsx(n,{id:"password_confirmation",type:"password",required:!0,tabIndex:4,autoComplete:"new-password",value:r.password_confirmation,onChange:a=>o("password_confirmation",a.target.value),disabled:t,placeholder:"Confirm password"}),e.jsx(l,{message:s.password_confirmation}),r.password&&r.password_confirmation&&r.password!==r.password_confirmation&&e.jsx("div",{className:"mt-1 rounded-lg border border-red-500/30 bg-red-500/10 p-2",children:e.jsxs("p",{className:"text-xs text-red-300",children:[e.jsx("strong",{children:"Passwords do not match."})," Please make sure both password fields contain the same password."]})})]}),e.jsx(N,{type:"submit",className:"mt-2 w-full",tabIndex:5,disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create account"})]}),s&&Object.keys(s).length>0&&!s.name&&!s.email&&!s.password&&!s.password_confirmation&&e.jsx("div",{className:"rounded-lg border border-red-500/30 bg-red-500/10 p-3",children:e.jsx("p",{className:"text-sm text-red-300",children:"Please check the form for errors and try again."})}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(b,{href:route("login",u==="b2b"?{mode:"b2b",redirect:p}:{}),tabIndex:6,children:"Log in"})]})]})]})}export{T as default};
